<div class="movie-list-container">
  <h2>List of Movies</h2>

  <!-- Verifica se há filmes carregados -->
  <table *ngIf="filteredMovies.length > 0" class="movie-list-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>
          Year
          <br />
          <input
            type="text"
            [(ngModel)]="yearFilter"
            (input)="applyFilters()"
            placeholder="Filter by year"
            class="filter-input"
          />
        </th>
        <th>Title</th>
        <th>Studios</th>
        <th>Producers</th>
        <th>
          Winner?
          <br />
          <select
            [(ngModel)]="winnerFilter"
            (change)="applyFilters()"
            class="filter-select"
          >
            <option value="">All</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
          </select>
        </th>
      </tr>
    </thead>
    <tbody>
      <!-- Renderiza os filmes na tabela -->
      <tr *ngFor="let movie of getPaginatedMovies(); let index = index">
        <td>{{ index + 1 }}</td> 
        <td>{{ movie.year }}</td>
        <td>{{ movie.title }}</td>
        <td>{{ movie.studios.join(', ') }}</td>
        <td>{{ movie.producers.join(', ') }}</td>
        <td>{{ movie.winner ? 'Yes' : 'No' }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Mensagem para quando não houver filmes -->
  <div *ngIf="filteredMovies.length === 0">
    No movies to display.
  </div>

  <!-- Paginação -->
  <div class="pagination" *ngIf="filteredMovies.length > itemsPerPage">
    <button
      *ngFor="let page of getTotalPages()"
      (click)="changePage(page)"
      [class.active]="page === currentPage"
    >
      {{ page }}
    </button>
  </div>
</div>
